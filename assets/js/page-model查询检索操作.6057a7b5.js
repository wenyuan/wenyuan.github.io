(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{741:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"model-查询-检索操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#model-查询-检索操作"}},[t._v("#")]),t._v(" model 查询/检索操作")]),t._v(" "),a("h2",{attrs:{id:"查询结果集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询结果集"}},[t._v("#")]),t._v(" 查询结果集")]),t._v(" "),a("h3",{attrs:{id:"queryset-是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queryset-是什么"}},[t._v("#")]),t._v(" QuerySet 是什么")]),t._v(" "),a("p",[t._v("想要从数据库内检索对象，需要基于模型类，通过管理器（Manager）操作数据库并返回一个查询结果集（QuerySet）。")]),t._v(" "),a("p",[t._v("每个 QuerySet 代表一些数据库对象的集合。它可以包含零个、一个或多个过滤器（filters）。Filters 能够缩小查询结果的范围。在 SQL 语法中，一个 QuerySet 相当于一个 SELECT 语句，而 filter 则相当于 WHERE 或者 LIMIT 一类的子句。")]),t._v(" "),a("p",[t._v("每个模型至少具有一个 Manager，默认情况下，Django 自动为我们提供了一个，也是最常用最重要的一个，99%的 情况下我们都只使用它。它被称作 "),a("code",[t._v("objects")]),t._v("，可以通过模型类直接调用它，但不能通过模型类的实例调用它，以此实现「表级别」操作和「记录级别」操作的强制分离。")]),t._v(" "),a("h3",{attrs:{id:"queryset-惰性特点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queryset-惰性特点"}},[t._v("#")]),t._v(" QuerySet 惰性特点")]),t._v(" "),a("p",[t._v("QuerySet 都是懒惰的，创建 QuerySet 的动作不会立刻导致任何的数据库行为。你可以不断地进行 filter 动作一整天，Django 不会运行任何实际的数据库查询动作，直到 QuerySet 被提交（evaluated）。")]),t._v(" "),a("p",[t._v("简而言之就是，只有碰到某些特定的操作，Django 才会将所有的操作体现到数据库内，否则它们只是保存在内存和 Django 的层面中。这是一种提高数据库查询效率，减少操作次数的优化设计。")]),t._v(" "),a("p",[t._v("比如下面的例子：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("q "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Article"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("title__startswith"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"What"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nq "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pub_date__lte"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("today"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nq "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exclude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("body__icontains"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"food"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("上面的例子，看起来执行了 3 次数据库访问，实际上只是在 print 语句时才执行 1 次访问。通常情况，QuerySet 的检索不会立刻执行实际的数据库查询操作，直到出现类似 print 的请求，也就是所谓的 evaluated。")]),t._v(" "),a("h3",{attrs:{id:"queryset-何时被提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queryset-何时被提交"}},[t._v("#")]),t._v(" QuerySet 何时被提交")]),t._v(" "),a("p",[t._v("在内部，创建、过滤、切片和传递一个 QuerySet 不会真实操作数据库，在你对查询集提交之前，不会发生任何实际的数据库操作。")]),t._v(" "),a("p",[t._v("那么如何判断哪种操作会触发真正的数据库操作呢？简单的逻辑思维如下：")]),t._v(" "),a("ul",[a("li",[t._v("第一次需要真正操作数据的值的时候。比如上面 "),a("code",[t._v("print(q)")]),t._v("，如果你不去数据库拿 q，print 什么呢？")]),t._v(" "),a("li",[t._v("落实修改动作的时候。你不操作数据库，怎么落实？")])]),t._v(" "),a("p",[t._v("了解了 QuerySet 的概念，下面详细介绍 Django model select 的用法，配以对应的 MySQL 查询语句，理解起来更轻松。")]),t._v(" "),a("h2",{attrs:{id:"基本操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本操作"}},[t._v("#")]),t._v(" 基本操作")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取所有数据")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select * from User;")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 匹配")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select * from User where name = '张三';")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 不匹配")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select * from User where name != '张三';")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exclude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取单条数据（有且仅有一条，id 唯一）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select * from User where id = 123;")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("需要注意：")]),t._v(" "),a("ul",[a("li",[t._v("filter 方法始终返回的是 QuerySet，那怕只有一个对象符合过滤条件，返回的也是包含一个对象的 QuerySet，这是一个集合类型对象，你可以类比 Python列表，可迭代可循环可索引。")]),t._v(" "),a("li",[t._v("get 方法只会返回一个对象，但是如果在查询时没有匹配到对象，那么将抛出 "),a("code",[t._v("DoesNotExist")]),t._v(" 异常；如果结果超过 1 个，则会抛出 "),a("code",[t._v("MultipleObjectsReturned")]),t._v(" 异常。")]),t._v(" "),a("li",[t._v("所以，比起使用 filter 方法然后通过 "),a("code",[t._v("[0]")]),t._v(" 的方式分片，要慎用 get 方法。除非你确定你的检索必定只会获得一个对象。")])]),t._v(" "),a("h2",{attrs:{id:"常用操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用操作"}},[t._v("#")]),t._v(" 常用操作")]),t._v(" "),a("h3",{attrs:{id:"操作语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作语法"}},[t._v("#")]),t._v(" 操作语法")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取总数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select count(1) from User;")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 比较，gt:>，gte:>=，lt:<，lte:<=")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select * from User where id > 724;")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id__gt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("724")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id__gt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id__lt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 包含，in")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select * from User where id in (11,22,33);")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id__in"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exclude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id__in"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# isnull：isnull=True 为空，isnull=False 不为空")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select * from User where pub_date is null;")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pub_date__isnull"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# like，contains 大小写敏感，icontains 大小写不敏感，相同用法的还有 startswith、endswith")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name__contains"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sre"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exclude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name__contains"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sre"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 范围，between and")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select * from User where id between 3 and 8;")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id__range"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 排序，order by，'id' 按 id 正序，'-id' 按 id 倒序")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("order_by"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("order_by"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 多级排序，order by，先按 name 进行正序排列，如果 name 一致则再按照 id 倒序排列")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("order_by"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br")])]),a("h3",{attrs:{id:"字段查询参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字段查询参数"}},[t._v("#")]),t._v(" 字段查询参数")]),t._v(" "),a("p",[t._v("上面好几个语法用到了"),a("strong",[t._v("字段查询")]),t._v("，字段查询是指如何指定 SQL WHERE 子句的内容。它们用作 QuerySet 的 filter()，exclude() 和 get() 方法的关键字参数。")]),t._v(" "),a("p",[t._v("其基本格式是："),a("code",[t._v("field__lookuptype=value")]),t._v("，注意其中是双下划线。")]),t._v(" "),a("p",[t._v("如果不加 "),a("code",[t._v("__lookuptype")]),t._v("，默认查找类型为 "),a("code",[t._v("exact")]),t._v("（精确匹配）。")]),t._v(" "),a("p",[t._v("其中的字段必须是模型中定义的字段之一。但是有一个例外，那就是 ForeignKey 字段，你可以为其添加一个 "),a("code",[t._v("_id")]),t._v(" 后缀（单下划线）。这种情况下键值是外键模型的主键原生值。例如：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 模型中定义的字段")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：SELECT * FROM blog_entry WHERE pub_date <= '2022-01-01';")]),t._v("\nArticle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pub_date__lte"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2022-01-01'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ForeignKey 字段")]),t._v("\nArticle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("category_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("Django 的数据库 API 支持 20 多种查询类型，下表列出了所有的字段查询参数：")]),t._v(" "),a("p",[a("svg",{attrs:{id:"SvgjsSvg1006",width:"916",height:"1240",xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs"}},[a("defs",{attrs:{id:"SvgjsDefs1007"}}),a("g",{attrs:{id:"SvgjsG1008",transform:"translate(25.000015258789062,24.99999237060547)"}},[a("path",{attrs:{id:"SvgjsPath1009",d:"M0 0L127.40979904 0L127.40979904 45.458 L0 45.458Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#f5f7fb"}}),a("path",{attrs:{id:"SvgjsPath1010",d:"M127.40979904 0L370.02506174999996 0L370.02506174999996 45.458 L127.40979904 45.458Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#f5f7fb"}}),a("path",{attrs:{id:"SvgjsPath1011",d:"M370.02506175 0L865.5557 0L865.5557 45.458 L370.02506175 45.458Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#f5f7fb"}}),a("path",{attrs:{id:"SvgjsPath1012",d:"M0 45.458L127.40979904 45.458L127.40979904 78.064 L0 78.064Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1013",d:"M127.40979904 45.458L370.02506174999996 45.458L370.02506174999996 78.064 L127.40979904 78.064Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1014",d:"M370.02506175 45.458L865.5557 45.458L865.5557 78.064 L370.02506175 78.064Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1015",d:"M0 78.18299999999999L127.40979904 78.18299999999999L127.40979904 110.78899999999999 L0 110.78899999999999Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1016",d:"M127.40979904 78.18299999999999L370.02506174999996 78.18299999999999L370.02506174999996 110.78899999999999 L127.40979904 110.78899999999999Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1017",d:"M370.02506175 78.18299999999999L865.5557 78.18299999999999L865.5557 110.78899999999999 L370.02506175 110.78899999999999Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1018",d:"M0 110.789L127.40979904 110.789L127.40979904 143.395 L0 143.395Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1019",d:"M127.40979904 110.789L370.02506174999996 110.789L370.02506174999996 143.395 L127.40979904 143.395Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1020",d:"M370.02506175 110.789L865.5557 110.789L865.5557 143.395 L370.02506175 143.395Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1021",d:"M0 143.39499999999998L127.40979904 143.39499999999998L127.40979904 176.00099999999998 L0 176.00099999999998Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1022",d:"M127.40979904 143.39499999999998L370.02506174999996 143.39499999999998L370.02506174999996 176.00099999999998 L127.40979904 176.00099999999998Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1023",d:"M370.02506175 143.39499999999998L865.5557 143.39499999999998L865.5557 176.00099999999998 L370.02506175 176.00099999999998Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1024",d:"M0 176.12L127.40979904 176.12L127.40979904 208.726 L0 208.726Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1025",d:"M127.40979904 176.12L370.02506174999996 176.12L370.02506174999996 208.726 L127.40979904 208.726Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1026",d:"M370.02506175 176.12L865.5557 176.12L865.5557 208.726 L370.02506175 208.726Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1027",d:"M0 208.726L127.40979904 208.726L127.40979904 241.332 L0 241.332Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1028",d:"M127.40979904 208.726L370.02506174999996 208.726L370.02506174999996 241.332 L127.40979904 241.332Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1029",d:"M370.02506175 208.726L865.5557 208.726L865.5557 241.332 L370.02506175 241.332Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1030",d:"M0 241.33200000000002L127.40979904 241.33200000000002L127.40979904 273.93800000000005 L0 273.93800000000005Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1031",d:"M127.40979904 241.33200000000002L370.02506174999996 241.33200000000002L370.02506174999996 273.93800000000005 L127.40979904 273.93800000000005Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1032",d:"M370.02506175 241.33200000000002L865.5557 241.33200000000002L865.5557 273.93800000000005 L370.02506175 273.93800000000005Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1033",d:"M0 273.938L127.40979904 273.938L127.40979904 306.544 L0 306.544Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1034",d:"M127.40979904 273.938L370.02506174999996 273.938L370.02506174999996 306.544 L127.40979904 306.544Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1035",d:"M370.02506175 273.938L865.5557 273.938L865.5557 306.544 L370.02506175 306.544Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1036",d:"M0 306.66299999999995L127.40979904 306.66299999999995L127.40979904 339.26899999999995 L0 339.26899999999995Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1037",d:"M127.40979904 306.66299999999995L370.02506174999996 306.66299999999995L370.02506174999996 339.26899999999995 L127.40979904 339.26899999999995Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1038",d:"M370.02506175 306.66299999999995L865.5557 306.66299999999995L865.5557 339.26899999999995 L370.02506175 339.26899999999995Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1039",d:"M0 339.269L127.40979904 339.269L127.40979904 371.875 L0 371.875Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1040",d:"M127.40979904 339.269L370.02506174999996 339.269L370.02506174999996 371.875 L127.40979904 371.875Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1041",d:"M370.02506175 339.269L865.5557 339.269L865.5557 371.875 L370.02506175 371.875Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1042",d:"M0 371.875L127.40979904 371.875L127.40979904 404.481 L0 404.481Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1043",d:"M127.40979904 371.875L370.02506174999996 371.875L370.02506174999996 404.481 L127.40979904 404.481Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1044",d:"M370.02506175 371.875L865.5557 371.875L865.5557 404.481 L370.02506175 404.481Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1045",d:"M0 404.6L127.40979904 404.6L127.40979904 437.206 L0 437.206Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1046",d:"M127.40979904 404.6L370.02506174999996 404.6L370.02506174999996 437.206 L127.40979904 437.206Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1047",d:"M370.02506175 404.6L865.5557 404.6L865.5557 437.206 L370.02506175 437.206Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1048",d:"M0 437.206L127.40979904 437.206L127.40979904 469.812 L0 469.812Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1049",d:"M127.40979904 437.206L370.02506174999996 437.206L370.02506174999996 469.812 L127.40979904 469.812Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1050",d:"M370.02506175 437.206L865.5557 437.206L865.5557 469.812 L370.02506175 469.812Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1051",d:"M0 469.81199999999995L127.40979904 469.81199999999995L127.40979904 588.3359999999999 L0 588.3359999999999Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1052",d:"M127.40979904 469.81199999999995L370.02506174999996 469.81199999999995L370.02506174999996 588.3359999999999 L127.40979904 588.3359999999999Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1053",d:"M370.02506175 469.81199999999995L865.5557 469.81199999999995L865.5557 588.3359999999999 L370.02506175 588.3359999999999Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1054",d:"M0 588.455L127.40979904 588.455L127.40979904 670.089 L0 670.089Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1055",d:"M127.40979904 588.455L370.02506174999996 588.455L370.02506174999996 670.089 L127.40979904 670.089Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1056",d:"M370.02506175 588.455L865.5557 588.455L865.5557 670.089 L370.02506175 670.089Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1057",d:"M0 670.089L127.40979904 670.089L127.40979904 741.6080000000001 L0 741.6080000000001Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1058",d:"M127.40979904 670.089L370.02506174999996 670.089L370.02506174999996 741.6080000000001 L127.40979904 741.6080000000001Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1059",d:"M370.02506175 670.089L865.5557 670.089L865.5557 741.6080000000001 L370.02506175 741.6080000000001Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1060",d:"M0 741.727L127.40979904 741.727L127.40979904 774.333 L0 774.333Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1061",d:"M127.40979904 741.727L370.02506174999996 741.727L370.02506174999996 774.333 L127.40979904 774.333Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1062",d:"M370.02506175 741.727L865.5557 741.727L865.5557 774.333 L370.02506175 774.333Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1063",d:"M0 774.333L127.40979904 774.333L127.40979904 806.939 L0 806.939Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1064",d:"M127.40979904 774.333L370.02506174999996 774.333L370.02506174999996 806.939 L127.40979904 806.939Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1065",d:"M370.02506175 774.333L865.5557 774.333L865.5557 806.939 L370.02506175 806.939Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1066",d:"M0 806.9390000000001L127.40979904 806.9390000000001L127.40979904 839.5450000000001 L0 839.5450000000001Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1067",d:"M127.40979904 806.9390000000001L370.02506174999996 806.9390000000001L370.02506174999996 839.5450000000001 L127.40979904 839.5450000000001Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1068",d:"M370.02506175 806.9390000000001L865.5557 806.9390000000001L865.5557 839.5450000000001 L370.02506175 839.5450000000001Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1069",d:"M0 839.5450000000001L127.40979904 839.5450000000001L127.40979904 872.1510000000001 L0 872.1510000000001Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1070",d:"M127.40979904 839.5450000000001L370.02506174999996 839.5450000000001L370.02506174999996 872.1510000000001 L127.40979904 872.1510000000001Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1071",d:"M370.02506175 839.5450000000001L865.5557 839.5450000000001L865.5557 872.1510000000001 L370.02506175 872.1510000000001Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1072",d:"M0 872.27L127.40979904 872.27L127.40979904 904.876 L0 904.876Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1073",d:"M127.40979904 872.27L370.02506174999996 872.27L370.02506174999996 904.876 L127.40979904 904.876Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1074",d:"M370.02506175 872.27L865.5557 872.27L865.5557 904.876 L370.02506175 904.876Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1075",d:"M0 904.876L127.40979904 904.876L127.40979904 937.482 L0 937.482Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1076",d:"M127.40979904 904.876L370.02506174999996 904.876L370.02506174999996 937.482 L127.40979904 937.482Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1077",d:"M370.02506175 904.876L865.5557 904.876L865.5557 937.482 L370.02506175 937.482Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1078",d:"M0 937.482L127.40979904 937.482L127.40979904 970.088 L0 970.088Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1079",d:"M127.40979904 937.482L370.02506174999996 937.482L370.02506174999996 970.088 L127.40979904 970.088Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1080",d:"M370.02506175 937.482L865.5557 937.482L865.5557 970.088 L370.02506175 970.088Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1081",d:"M0 970.207L127.40979904 970.207L127.40979904 1027.684 L0 1027.684Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1082",d:"M127.40979904 970.207L370.02506174999996 970.207L370.02506174999996 1027.684 L127.40979904 1027.684Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1083",d:"M370.02506175 970.207L865.5557 970.207L865.5557 1027.684 L370.02506175 1027.684Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1084",d:"M0 1027.565L127.40979904 1027.565L127.40979904 1060.171 L0 1060.171Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1085",d:"M127.40979904 1027.565L370.02506174999996 1027.565L370.02506174999996 1060.171 L127.40979904 1060.171Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1086",d:"M370.02506175 1027.565L865.5557 1027.565L865.5557 1060.171 L370.02506175 1060.171Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1087",d:"M0 1060.29L127.40979904 1060.29L127.40979904 1092.896 L0 1092.896Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1088",d:"M127.40979904 1060.29L370.02506174999996 1060.29L370.02506174999996 1092.896 L127.40979904 1092.896Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1089",d:"M370.02506175 1060.29L865.5557 1060.29L865.5557 1092.896 L370.02506175 1092.896Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1090",d:"M0 1092.896L127.40979904 1092.896L127.40979904 1125.502 L0 1125.502Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1091",d:"M127.40979904 1092.896L370.02506174999996 1092.896L370.02506174999996 1125.502 L127.40979904 1125.502Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1092",d:"M370.02506175 1092.896L865.5557 1092.896L865.5557 1125.502 L370.02506175 1125.502Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1093",d:"M0 1125.502L127.40979904 1125.502L127.40979904 1158.108 L0 1158.108Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1094",d:"M127.40979904 1125.502L370.02506174999996 1125.502L370.02506174999996 1158.108 L127.40979904 1158.108Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1095",d:"M370.02506175 1125.502L865.5557 1125.502L865.5557 1158.108 L370.02506175 1158.108Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1096",d:"M0 1158.227L127.40979904 1158.227L127.40979904 1190 L0 1190Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1097",d:"M127.40979904 1158.227L370.02506174999996 1158.227L370.02506174999996 1190 L127.40979904 1190Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("path",{attrs:{id:"SvgjsPath1098",d:"M370.02506175 1158.227L865.5557 1158.227L865.5557 1190 L370.02506175 1190Z",stroke:"rgba(201,208,227,1)","stroke-width":"1","fill-opacity":"1",fill:"#ffffff"}}),a("g",{attrs:{id:"SvgjsG1099"}},[a("text",{attrs:{id:"SvgjsText1100","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"8.729",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1101",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1102"}},[t._v("  字段名")])])])]),a("g",{attrs:{id:"SvgjsG1103"}},[a("text",{attrs:{id:"SvgjsText1104","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"8.729",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1105",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1106"}},[t._v("  说明")])])])]),a("g",{attrs:{id:"SvgjsG1107"}},[a("text",{attrs:{id:"SvgjsText1108","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"8.729",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1109",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1110"}},[t._v("  示例")])])])]),a("g",{attrs:{id:"SvgjsG1111"}},[a("text",{attrs:{id:"SvgjsText1112","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"47.760999999999996",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1113",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1114"}},[t._v("  exact")])])])]),a("g",{attrs:{id:"SvgjsG1115"}},[a("text",{attrs:{id:"SvgjsText1116","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"47.760999999999996",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1117",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1118"}},[t._v("  精确匹配")])])])]),a("g",{attrs:{id:"SvgjsG1119"}},[a("text",{attrs:{id:"SvgjsText1120","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"47.760999999999996",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1121",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1122"}},[t._v("  Article.objects.get(id__exact=3)")])])])]),a("g",{attrs:{id:"SvgjsG1123"}},[a("text",{attrs:{id:"SvgjsText1124","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"80.48599999999999",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1125",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1126"}},[t._v("  iexact")])])])]),a("g",{attrs:{id:"SvgjsG1127"}},[a("text",{attrs:{id:"SvgjsText1128","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"80.48599999999999",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1129",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1130"}},[t._v("  不区分大小写的精确匹配")])])])]),a("g",{attrs:{id:"SvgjsG1131"}},[a("text",{attrs:{id:"SvgjsText1132","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"80.48599999999999",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1133",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1134"}},[t._v('  Article.objects.get(title__iexact="first article")')])])])]),a("g",{attrs:{id:"SvgjsG1135"}},[a("text",{attrs:{id:"SvgjsText1136","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"113.092",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1137",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1138"}},[t._v("  contains")])])])]),a("g",{attrs:{id:"SvgjsG1139"}},[a("text",{attrs:{id:"SvgjsText1140","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"113.092",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1141",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1142"}},[t._v("  包含匹配")])])])]),a("g",{attrs:{id:"SvgjsG1143"}},[a("text",{attrs:{id:"SvgjsText1144","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"113.092",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1145",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1146"}},[t._v("  Article.objects.get(title__contains='first')")])])])]),a("g",{attrs:{id:"SvgjsG1147"}},[a("text",{attrs:{id:"SvgjsText1148","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"145.69799999999998",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1149",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1150"}},[t._v("  icontains")])])])]),a("g",{attrs:{id:"SvgjsG1151"}},[a("text",{attrs:{id:"SvgjsText1152","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"145.69799999999998",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1153",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1154"}},[t._v("  不区分大小写的包含匹配")])])])]),a("g",{attrs:{id:"SvgjsG1155"}},[a("text",{attrs:{id:"SvgjsText1156","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"145.69799999999998",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1157",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1158"}},[t._v("  contains 的大小写不敏感模式")])])])]),a("g",{attrs:{id:"SvgjsG1159"}},[a("text",{attrs:{id:"SvgjsText1160","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"178.423",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1161",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1162"}},[t._v("  in")])])])]),a("g",{attrs:{id:"SvgjsG1163"}},[a("text",{attrs:{id:"SvgjsText1164","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"178.423",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1165",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1166"}},[t._v("  在 ... 之内的匹配")])])])]),a("g",{attrs:{id:"SvgjsG1167"}},[a("text",{attrs:{id:"SvgjsText1168","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"178.423",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1169",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1170"}},[t._v("  Article.objects.filter(id__in=[1, 3, 4])")])])])]),a("g",{attrs:{id:"SvgjsG1171"}},[a("text",{attrs:{id:"SvgjsText1172","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"211.029",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1173",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1174"}},[t._v("  gt")])])])]),a("g",{attrs:{id:"SvgjsG1175"}},[a("text",{attrs:{id:"SvgjsText1176","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"211.029",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1177",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1178"}},[t._v("  大于")])])])]),a("g",{attrs:{id:"SvgjsG1179"}},[a("text",{attrs:{id:"SvgjsText1180","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"211.029",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1181",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1182"}},[t._v("  Article.objects.filter(id__gt=2)")])])])]),a("g",{attrs:{id:"SvgjsG1183"}},[a("text",{attrs:{id:"SvgjsText1184","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"243.63500000000002",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1185",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1186"}},[t._v("  gte")])])])]),a("g",{attrs:{id:"SvgjsG1187"}},[a("text",{attrs:{id:"SvgjsText1188","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"243.63500000000002",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1189",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1190"}},[t._v("  大于等于")])])])]),a("g",{attrs:{id:"SvgjsG1191"}},[a("text",{attrs:{id:"SvgjsText1192","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"243.63500000000002",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1193",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1194"}},[t._v("  同上")])])])]),a("g",{attrs:{id:"SvgjsG1195"}},[a("text",{attrs:{id:"SvgjsText1196","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"276.241",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1197",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1198"}},[t._v("  lt")])])])]),a("g",{attrs:{id:"SvgjsG1199"}},[a("text",{attrs:{id:"SvgjsText1200","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"276.241",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1201",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1202"}},[t._v("  小于")])])])]),a("g",{attrs:{id:"SvgjsG1203"}},[a("text",{attrs:{id:"SvgjsText1204","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"276.241",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1205",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1206"}},[t._v("  同上")])])])]),a("g",{attrs:{id:"SvgjsG1207"}},[a("text",{attrs:{id:"SvgjsText1208","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"308.96599999999995",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1209",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1210"}},[t._v("  lte")])])])]),a("g",{attrs:{id:"SvgjsG1211"}},[a("text",{attrs:{id:"SvgjsText1212","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"308.96599999999995",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1213",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1214"}},[t._v("  小于等于")])])])]),a("g",{attrs:{id:"SvgjsG1215"}},[a("text",{attrs:{id:"SvgjsText1216","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"308.96599999999995",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1217",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1218"}},[t._v("  同上")])])])]),a("g",{attrs:{id:"SvgjsG1219"}},[a("text",{attrs:{id:"SvgjsText1220","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"341.572",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1221",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1222"}},[t._v("  startswith")])])])]),a("g",{attrs:{id:"SvgjsG1223"}},[a("text",{attrs:{id:"SvgjsText1224","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"341.572",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1225",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1226"}},[t._v("  从开头匹配")])])])]),a("g",{attrs:{id:"SvgjsG1227"}},[a("text",{attrs:{id:"SvgjsText1228","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"341.572",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1229",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1230"}},[t._v("  大小写敏感")])])])]),a("g",{attrs:{id:"SvgjsG1231"}},[a("text",{attrs:{id:"SvgjsText1232","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"374.178",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1233",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1234"}},[t._v("  istartswith")])])])]),a("g",{attrs:{id:"SvgjsG1235"}},[a("text",{attrs:{id:"SvgjsText1236","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"374.178",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1237",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1238"}},[t._v("  不区分大小写从开头匹配")])])])]),a("g",{attrs:{id:"SvgjsG1239"}},[a("text",{attrs:{id:"SvgjsText1240","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"374.178",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1241",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1242"}},[t._v("  不区分大小写")])])])]),a("g",{attrs:{id:"SvgjsG1243"}},[a("text",{attrs:{id:"SvgjsText1244","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"406.903",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1245",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1246"}},[t._v("  endswith")])])])]),a("g",{attrs:{id:"SvgjsG1247"}},[a("text",{attrs:{id:"SvgjsText1248","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"406.903",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1249",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1250"}},[t._v("  从结尾处匹配")])])])]),a("g",{attrs:{id:"SvgjsG1251"}},[a("text",{attrs:{id:"SvgjsText1252","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"406.903",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1253",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1254"}},[t._v("  大小写敏感")])])])]),a("g",{attrs:{id:"SvgjsG1255"}},[a("text",{attrs:{id:"SvgjsText1256","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"439.509",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1257",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1258"}},[t._v("  iendswith")])])])]),a("g",{attrs:{id:"SvgjsG1259"}},[a("text",{attrs:{id:"SvgjsText1260","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"439.509",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1261",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1262"}},[t._v("  不区分大小写从结尾处匹配")])])])]),a("g",{attrs:{id:"SvgjsG1263"}},[a("text",{attrs:{id:"SvgjsText1264","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"439.509",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1265",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1266"}},[t._v("  不区分大小写")])])])]),a("g",{attrs:{id:"SvgjsG1267"}},[a("text",{attrs:{id:"SvgjsText1268","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"515.074",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1269",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1270"}},[t._v("  range")])])])]),a("g",{attrs:{id:"SvgjsG1271"}},[a("text",{attrs:{id:"SvgjsText1272","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"515.074",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1273",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1274"}},[t._v("  范围匹配")])])])]),a("g",{attrs:{id:"SvgjsG1275"}},[a("text",{attrs:{id:"SvgjsText1276","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"475.07399999999996",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1277",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1278"}},[t._v("  import datetime")])]),a("tspan",{attrs:{id:"SvgjsTspan1279",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1280"}})]),a("tspan",{attrs:{id:"SvgjsTspan1281",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1282"}},[t._v("  start_date = datetime.date(2022, 1, 1)")])]),a("tspan",{attrs:{id:"SvgjsTspan1283",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1284"}},[t._v("  end_date = datetime.date(2022, 3, 31)")])]),a("tspan",{attrs:{id:"SvgjsTspan1285",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1286"}},[t._v("  Article.objects.filter(pub_date__range=(start_date, end_date))")])])])]),a("g",{attrs:{id:"SvgjsG1287"}},[a("text",{attrs:{id:"SvgjsText1288","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"615.272",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1289",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1290"}},[t._v("  date")])])])]),a("g",{attrs:{id:"SvgjsG1291"}},[a("text",{attrs:{id:"SvgjsText1292","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"615.272",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1293",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1294"}},[t._v("  日期匹配")])])])]),a("g",{attrs:{id:"SvgjsG1295"}},[a("text",{attrs:{id:"SvgjsText1296","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"595.272",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1297",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1298"}},[t._v("  compare_date = datetime.date(2022, 1, 1)")])]),a("tspan",{attrs:{id:"SvgjsTspan1299",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1300"}},[t._v("  Article.objects.filter(pub_date__date=compare_date)")])]),a("tspan",{attrs:{id:"SvgjsTspan1301",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1302"}},[t._v("  Article.objects.filter(pub_date__date__gt=compare_date)")])])])]),a("g",{attrs:{id:"SvgjsG1303"}},[a("text",{attrs:{id:"SvgjsText1304","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"691.8485000000001",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1305",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1306"}},[t._v("  year")])])])]),a("g",{attrs:{id:"SvgjsG1307"}},[a("text",{attrs:{id:"SvgjsText1308","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"691.8485000000001",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1309",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1310"}},[t._v("  年份")])])])]),a("g",{attrs:{id:"SvgjsG1311"}},[a("text",{attrs:{id:"SvgjsText1312","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"681.8485000000001",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1313",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1314"}},[t._v("  Article.objects.filter(pub_date__year=2022)")])]),a("tspan",{attrs:{id:"SvgjsTspan1315",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1316"}},[t._v("  Article.objects.filter(pub_date__year__gte=2022)")])])])]),a("g",{attrs:{id:"SvgjsG1317"}},[a("text",{attrs:{id:"SvgjsText1318","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"744.03",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1319",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1320"}},[t._v("  iso_year")])])])]),a("g",{attrs:{id:"SvgjsG1321"}},[a("text",{attrs:{id:"SvgjsText1322","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"744.03",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1323",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1324"}},[t._v("  以 ISO 8601 标准确定的年份")])])])]),a("g",{attrs:{id:"SvgjsG1325"}},[a("text",{attrs:{id:"SvgjsText1326","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"744.03",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1327",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1328"}},[t._v("  Article.objects.filter(pub_date__iso_year=2022)")])])])]),a("g",{attrs:{id:"SvgjsG1329"}},[a("text",{attrs:{id:"SvgjsText1330","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"776.636",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1331",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1332"}},[t._v("  month")])])])]),a("g",{attrs:{id:"SvgjsG1333"}},[a("text",{attrs:{id:"SvgjsText1334","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"776.636",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1335",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1336"}},[t._v("  月份，取整数 1~12")])])])]),a("g",{attrs:{id:"SvgjsG1337"}},[a("text",{attrs:{id:"SvgjsText1338","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"776.636",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1339",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1340"}},[t._v("  Article.objects.filter(pub_date__month=12)")])])])]),a("g",{attrs:{id:"SvgjsG1341"}},[a("text",{attrs:{id:"SvgjsText1342","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"809.2420000000001",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1343",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1344"}},[t._v("  day")])])])]),a("g",{attrs:{id:"SvgjsG1345"}},[a("text",{attrs:{id:"SvgjsText1346","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"809.2420000000001",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1347",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1348"}},[t._v("  日期")])])])]),a("g",{attrs:{id:"SvgjsG1349"}},[a("text",{attrs:{id:"SvgjsText1350","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"809.2420000000001",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1351",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1352"}},[t._v("  Article.objects.filter(pub_date__day=3)")])])])]),a("g",{attrs:{id:"SvgjsG1353"}},[a("text",{attrs:{id:"SvgjsText1354","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"841.8480000000001",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1355",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1356"}},[t._v("  week")])])])]),a("g",{attrs:{id:"SvgjsG1357"}},[a("text",{attrs:{id:"SvgjsText1358","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"841.8480000000001",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1359",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1360"}},[t._v("  第几周")])])])]),a("g",{attrs:{id:"SvgjsG1361"}},[a("text",{attrs:{id:"SvgjsText1362","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"841.8480000000001",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1363",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1364"}},[t._v("  Article.objects.filter(pub_date__week=52)")])])])]),a("g",{attrs:{id:"SvgjsG1365"}},[a("text",{attrs:{id:"SvgjsText1366","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"874.573",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1367",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1368"}},[t._v("  week_day")])])])]),a("g",{attrs:{id:"SvgjsG1369"}},[a("text",{attrs:{id:"SvgjsText1370","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"874.573",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1371",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1372"}},[t._v("  周几，星期日为 1，星期六为 7")])])])]),a("g",{attrs:{id:"SvgjsG1373"}},[a("text",{attrs:{id:"SvgjsText1374","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"874.573",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1375",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1376"}},[t._v("  Article.objects.filter(pub_date__week_day=2)")])])])]),a("g",{attrs:{id:"SvgjsG1377"}},[a("text",{attrs:{id:"SvgjsText1378","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"907.179",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1379",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1380"}},[t._v("  iso_week_day")])])])]),a("g",{attrs:{id:"SvgjsG1381"}},[a("text",{attrs:{id:"SvgjsText1382","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"907.179",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1383",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1384"}},[t._v("  以 ISO 8601 标准确定的星期几")])])])]),a("g",{attrs:{id:"SvgjsG1385"}},[a("text",{attrs:{id:"SvgjsText1386","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"907.179",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1387",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1388"}},[t._v("  Article.objects.filter(pub_date__iso_week_day=1)")])])])]),a("g",{attrs:{id:"SvgjsG1389"}},[a("text",{attrs:{id:"SvgjsText1390","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"939.785",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1391",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1392"}},[t._v("  quarter")])])])]),a("g",{attrs:{id:"SvgjsG1393"}},[a("text",{attrs:{id:"SvgjsText1394","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"939.785",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1395",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1396"}},[t._v("  季度，取值范围 1~4")])])])]),a("g",{attrs:{id:"SvgjsG1397"}},[a("text",{attrs:{id:"SvgjsText1398","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"939.785",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1399",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1400"}},[t._v("  Article.objects.filter(pub_date__quarter=2)")])])])]),a("g",{attrs:{id:"SvgjsG1401"}},[a("text",{attrs:{id:"SvgjsText1402","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"984.9455",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1403",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1404"}},[t._v("  time")])])])]),a("g",{attrs:{id:"SvgjsG1405"}},[a("text",{attrs:{id:"SvgjsText1406","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"974.9455",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1407",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1408"}},[t._v("  时间，")]),a("tspan",{staticStyle:{"font-size":"inherit"},attrs:{id:"SvgjsTspan1409"}},[t._v("将字段的值转为")])]),a("tspan",{attrs:{id:"SvgjsTspan1410",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{"font-size":"inherit"},attrs:{id:"SvgjsTspan1411"}},[t._v("  datetime.time 格式并进行对比")])])])]),a("g",{attrs:{id:"SvgjsG1412"}},[a("text",{attrs:{id:"SvgjsText1413","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"984.9455",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1414",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1415"}},[t._v("  Article.objects.filter(pub_date__time=datetime.time(14, 30))")])])])]),a("g",{attrs:{id:"SvgjsG1416"}},[a("text",{attrs:{id:"SvgjsText1417","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1029.8680000000002",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1418",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1419"}},[t._v("  hour")])])])]),a("g",{attrs:{id:"SvgjsG1420"}},[a("text",{attrs:{id:"SvgjsText1421","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1029.8680000000002",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1422",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1423"}},[t._v("  小时，取 0~23 之间的整数")])])])]),a("g",{attrs:{id:"SvgjsG1424"}},[a("text",{attrs:{id:"SvgjsText1425","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1029.8680000000002",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1426",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1427"}},[t._v("  Event.objects.filter(timestamp__hour=23)")])])])]),a("g",{attrs:{id:"SvgjsG1428"}},[a("text",{attrs:{id:"SvgjsText1429","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1062.593",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1430",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1431"}},[t._v("  minute")])])])]),a("g",{attrs:{id:"SvgjsG1432"}},[a("text",{attrs:{id:"SvgjsText1433","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1062.593",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1434",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1435"}},[t._v("  分钟，取 0~59 之间的整数")])])])]),a("g",{attrs:{id:"SvgjsG1436"}},[a("text",{attrs:{id:"SvgjsText1437","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1062.593",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1438",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1439"}},[t._v("  Event.objects.filter(timestamp__minute=29)")])])])]),a("g",{attrs:{id:"SvgjsG1440"}},[a("text",{attrs:{id:"SvgjsText1441","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1095.199",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1442",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1443"}},[t._v("  second")])])])]),a("g",{attrs:{id:"SvgjsG1444"}},[a("text",{attrs:{id:"SvgjsText1445","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1095.199",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1446",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1447"}},[t._v("  秒，取 0~59 之间的整数")])])])]),a("g",{attrs:{id:"SvgjsG1448"}},[a("text",{attrs:{id:"SvgjsText1449","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1095.199",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1450",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1451"}},[t._v("  Event.objects.filter(timestamp__second=31)")])])])]),a("g",{attrs:{id:"SvgjsG1452"}},[a("text",{attrs:{id:"SvgjsText1453","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1127.805",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1454",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1455"}},[t._v("  regex")])])])]),a("g",{attrs:{id:"SvgjsG1456"}},[a("text",{attrs:{id:"SvgjsText1457","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1127.805",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1458",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1459"}},[t._v("  区分大小写的正则匹配")])])])]),a("g",{attrs:{id:"SvgjsG1460"}},[a("text",{attrs:{id:"SvgjsText1461","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1127.805",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1462",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1463"}},[t._v("  Article.objects.get(title__regex=r'^(An?|The) +')")])])])]),a("g",{attrs:{id:"SvgjsG1464"}},[a("text",{attrs:{id:"SvgjsText1465","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"128px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1160.1135",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1466",dy:"20",x:"0"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1467"}},[t._v("  iregex")])])])]),a("g",{attrs:{id:"SvgjsG1468"}},[a("text",{attrs:{id:"SvgjsText1469","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"243px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1160.1135",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1470",dy:"20",x:"127.40979904"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1471"}},[t._v("  不区分大小写的正则匹配")])])])]),a("g",{attrs:{id:"SvgjsG1472"}},[a("text",{attrs:{id:"SvgjsText1473","font-family":"微软雅黑","text-anchor":"start","font-size":"16px",width:"496px",fill:"#323232","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"start",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"1160.1135",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1474",dy:"20",x:"370.02506175"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1475"}},[t._v("  Article.objects.get(title__iregex=r'^(an?|the) +')")])])])])])])]),t._v(" "),a("h2",{attrs:{id:"进阶操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进阶操作"}},[t._v("#")]),t._v(" 进阶操作")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# limit")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select * from User limit 3;")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# limit，取第三条以后的数据")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 没有对应的 SQL，类似的如：select * from User limit 3,10000000;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从第 3 条开始取数据，取 10000000 条（10000000 大于表中数据条数）")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# offset，取出结果的第 10-20 条数据（不包含 10，包含 20）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 也没有对应 SQL，参考上边的 SQL 写法")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 分组，group by")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select username,count(1) from User group by username;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Count\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 去重 distinct")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select distinct(username) from User;")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("distinct"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# filter 多列、查询多列")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对应 SQL：select username,fullname from accounts_user;")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fullname'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# filter 单列、查询单列")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 正常 values_list 给出的结果是个列表，里边的每条数据对应一个元组")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 当只查询一列时，可以使用 flat 标签去掉元组，将每条数据的结果以字符串的形式存储在列表中，从而避免解析元组的麻烦")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" flat"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# int 字段取最大值、最小值、综合、平均数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Sum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Avg\n\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("aggregate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("aggregate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Sum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br")])]),a("h2",{attrs:{id:"时间字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#时间字段"}},[t._v("#")]),t._v(" 时间字段")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 匹配日期，date")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("create_time__date"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("create_time__date__gt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 匹配年，year")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 相同用法的还有匹配月 month，匹配日 day，匹配周 week_day，匹配时 hour，匹配分 minute，匹配秒 second")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("create_time__year"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("create_time__year__gte"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按天统计归档")]),t._v("\ntoday "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("today"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nselect "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'day'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" connection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ops"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("date_trunc_sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'day'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'create_time'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndeploy_date_count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    create_time__range"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("today "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timedelta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("days"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" today"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extra"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("select"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("select"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'day'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("h2",{attrs:{id:"q-对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#q-对象"}},[t._v("#")]),t._v(" Q 对象")]),t._v(" "),a("p",[t._v("Q 对象可以对关键字参数进行封装，从而更好的应用多个查询，可以组合 "),a("code",[t._v("&(and)")]),t._v("、"),a("code",[t._v("|(or)")]),t._v("、"),a("code",[t._v("~(not)")]),t._v(" 操作符。")]),t._v(" "),a("p",[t._v("例如下面的语句：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Q\n\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    Q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("role__startswith"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sre_'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'李四'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("转换成 SQL 语句如下：")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("User")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" role "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("like")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sre_%'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("and")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("or")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'李四'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("通常更多的时候我们用 Q 来做搜索逻辑，比如前台搜索框输入一个字符，后台去数据库中检索标题或内容中是否包含：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("_s "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'search'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Article"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" _s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    _t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        Q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("title__icontains"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("_s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n        Q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("body__icontains"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("_s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" _t\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h2",{attrs:{id:"f-表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#f-表达式"}},[t._v("#")]),t._v(" F 表达式")]),t._v(" "),a("p",[t._v("到目前为止的例子中，我们都是将模型字段与常量进行比较。但是，如果你想将模型的一个字段与同一个模型的另外一个字段进行比较该怎么办？")]),t._v(" "),a("p",[t._v("使用 Django 提供的 F 表达式即可。")]),t._v(" "),a("p",[t._v("例如，为了查找评论数目多于点赞数目的文章，可以构造一个 "),a("code",[t._v("F()")]),t._v(" 对象来引用点赞数目，并在查询中使用该 "),a("code",[t._v("F()")]),t._v(" 对象：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" F\n\nArticle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number_of_comment__gt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("F"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'number_of_like'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("Django 支持对 "),a("code",[t._v("F()")]),t._v(" 对象进行加、减、乘、除、求余以及幂运算等算术操作。两个操作数可以是常数和其它 "),a("code",[t._v("F()")]),t._v(" 对象。")]),t._v(" "),a("h2",{attrs:{id:"外键-foreignkey"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外键-foreignkey"}},[t._v("#")]),t._v(" 外键：ForeignKey")]),t._v(" "),a("ul",[a("li",[t._v("表结构：")])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Role")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Model"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max_length"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unique"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Model"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    username "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EmailField"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max_length"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unique"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    role "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ForeignKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" on_delete"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CASCADE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("ul",[a("li",[t._v("正向查询:")])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查询用户的角色名")]),t._v("\n_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n_t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("ul",[a("li",[t._v("反向查询：")])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查询角色下包含的所有用户")]),t._v("\n_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Role03'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n_t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user_set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("ul",[a("li",[t._v("另一种反向查询的方法：")])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Role03'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这种方法比上一种 _set 的方法查询速度要快")]),t._v("\nUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("role"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("_t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("ul",[a("li",[t._v("第三种反向查询的方法：")])]),t._v(" "),a("p",[t._v("如果外键字段有 "),a("code",[t._v("related_name")]),t._v(" 属性，例如 models 如下：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Model"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    username "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EmailField"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max_length"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unique"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    role "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ForeignKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" on_delete"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CASCADE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" related_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'roleUsers'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("那么可以直接用 "),a("code",[t._v("related_name")]),t._v(" 属性取到某角色的所有用户：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Role03'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n_t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("roleUsers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h2",{attrs:{id:"m2m-manytomanyfield"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#m2m-manytomanyfield"}},[t._v("#")]),t._v(" M2M：ManyToManyField")]),t._v(" "),a("ul",[a("li",[t._v("表结构：")])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Model"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max_length"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unique"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Model"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    username "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CharField"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max_length"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unique"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    groups "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ManyToManyField"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Group"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" related_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'groupUsers'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("ul",[a("li",[t._v("正向查询:")])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查询用户隶属组")]),t._v("\n_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n_t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("groups"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("ul",[a("li",[t._v("反向查询：")])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查询组包含用户")]),t._v("\n_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Group"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'groupC'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n_t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user_set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("ul",[a("li",[t._v("同样 M2M 字段如果有 "),a("code",[t._v("related_name")]),t._v(" 属性，那么可以直接用下面的方式反查：")])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Group"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'groupC'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n_t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("groupUsers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h2",{attrs:{id:"get-object-or-404"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-object-or-404"}},[t._v("#")]),t._v(" "),a("code",[t._v("get_object_or_404")])]),t._v(" "),a("p",[t._v("正常如果我们要去数据库里搜索某一条数据时，通常使用下面的方法：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("734")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("但当 "),a("code",[t._v("id=724")]),t._v(" 的数据不存在时，程序将会抛出一个错误：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("abcer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DoesNotExist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" User matching query does "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" exist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("为了程序兼容和异常判断，我们可以使用下面两种方式：")]),t._v(" "),a("ul",[a("li",[t._v("方式一："),a("code",[t._v("get")]),t._v(" 改为 "),a("code",[t._v("filter")])])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("724")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取出 _t 之后再去判断 _t 是否存在")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("ul",[a("li",[t._v("方式二：使用 "),a("code",[t._v("get_object_or_404")])])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shortcuts "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" get_object_or_404\n\n_t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_object_or_404"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("724")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# get_object_or_404 方法，它会先调用 Django 的 get 方法，如果查询的对象不存在的话，则抛出一个 Http404 的异常")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("实现方法类似于下面这样：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("http "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Http404\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    _t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("724")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DoesNotExist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("raise")]),t._v(" Http404\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h2",{attrs:{id:"get-or-create"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-or-create"}},[t._v("#")]),t._v(" "),a("code",[t._v("get_or_create")])]),t._v(" "),a("p",[t._v("顾名思义，查找一个对象如果不存在则创建，如下：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" created "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_or_create"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("返回一个由 "),a("code",[t._v("object")]),t._v(" 和 "),a("code",[t._v("created")]),t._v(" 组成的元组，其中 object 就是一个查询到的或者是被创建的对象，created 是一个表示是否创建了新对象的布尔值。")]),t._v(" "),a("p",[t._v("实现方式类似于下面这样：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    created "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\nexception User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DoesNoExist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("save"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    created "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\n\nreturen "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" created\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h2",{attrs:{id:"执行原生-sql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行原生-sql"}},[t._v("#")]),t._v(" 执行原生 SQL")]),t._v(" "),a("p",[t._v("Django 中能用 ORM 的就用 ORM 吧，不建议执行原生 SQL，可能会有一些安全问题。如果实在是 SQL 太复杂 ORM 实现不了，那就看看下面执行原生 SQL 的方法，跟直接使用 pymysql 基本一致：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" connection\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" connection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cursor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" cursor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    cursor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'select * from accounts_User'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    row "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cursor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fetchall"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" row\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("注意这里表名字要用 "),a("code",[t._v("app名+下划线+model名")]),t._v(" 的方式（如果你在模型的元数据中指定了 "),a("code",[t._v("db_table")]),t._v(" 字段，就另说了）。")]),t._v(" "),a("h2",{attrs:{id:"pk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pk"}},[t._v("#")]),t._v(" pk")]),t._v(" "),a("p",[t._v("pk 就是 primary key 的缩写。通常情况下，一个模型的主键为 "),a("code",[t._v("id")]),t._v("，所以下面三个语句的效果一样：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("Article"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id__exact"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nArticle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nArticle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pk"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"转义百分符号和下划线"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#转义百分符号和下划线"}},[t._v("#")]),t._v(" 转义百分符号和下划线")]),t._v(" "),a("p",[t._v("在原生 SQL 语句中 "),a("code",[t._v("%")]),t._v(" 符号有特殊的作用。Django 帮你自动转义了百分符号和下划线，你可以和普通字符一样使用它们，如下所示：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("Article"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("title__contains"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 它和下面的一样")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# SELECT ... WHERE title LIKE '%\\%%';")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"缓存与查询集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缓存与查询集"}},[t._v("#")]),t._v(" 缓存与查询集")]),t._v(" "),a("p",[t._v("每个 QuerySet 都包含一个缓存，用于减少对数据库的实际操作。理解这个概念，有助于你提高查询效率。")]),t._v(" "),a("p",[t._v("对于新创建的 QuerySet，它的缓存是空的。当 QuerySet 第一次被提交后，数据库执行实际的查询操作，Django 会把查询的结果保存在 QuerySet 的缓存内，随后的对于该 QuerySet 的提交将重用这个缓存的数据。")]),t._v(" "),a("p",[t._v("要想高效的利用查询结果，降低数据库负载，你必须善于利用缓存。看下面的例子，这会造成 2 次实际的数据库操作，加倍数据库的负载，同时由于时间差的问题，可能在两次操作之间数据被删除或修改或添加，导致脏数据的问题：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" Article"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pub_date "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" Article"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("为了避免上面的问题，好的使用方式如下，这只产生一次实际的查询操作，并且保持了数据的一致性：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("queryset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Article"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" queryset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 提交查询")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pub_date "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" queryset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重用查询缓存")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("何时不会被缓存呢？")]),t._v(" "),a("p",[t._v("有一些操作不会缓存 QuerySet，例如切片和索引。这就导致这些操作没有缓存可用，每次都会执行实际的数据库查询操作。例如：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("queryset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Article"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queryset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查询数据库")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queryset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 再次查询数据库")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("但是，如果已经遍历过整个 QuerySet，那么就相当于缓存过，后续的操作则会使用缓存，例如：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("queryset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Article"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("obj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" queryset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查询数据库")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queryset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用缓存")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queryset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用缓存")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("下面的这些操作都将遍历 QuerySet 并建立缓存：")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("obj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" queryset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queryset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nobj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" queryset\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queryset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("注意：简单地打印 QuerySet 并不会建立缓存，因为 "),a("code",[t._v("__repr__()")]),t._v(" 调用只返回全部查询集的一个切片。")]),t._v(" "),a("p",[t._v("（完）")])])}),[],!1,null,null,null);s.default=e.exports}}]);