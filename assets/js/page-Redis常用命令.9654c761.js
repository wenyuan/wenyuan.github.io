(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{806:function(s,a,e){"use strict";e.r(a);var t=e(1),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"redis-常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis-常用命令"}},[s._v("#")]),s._v(" Redis 常用命令")]),s._v(" "),e("h2",{attrs:{id:"基本命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本命令"}},[s._v("#")]),s._v(" 基本命令")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接 redis 服务端")]),s._v("\nredis-cli -h "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果 redis 设置了密码，在连接后，输入密码命令（显示 OK 则登录成功）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一旦设置密码，必须先验证通过密码，否则所有操作不可用，都将只返回：")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# (error) NOAUTH Authentication required.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" auth "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("password"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 沟通命令，查看状态（ping 返回 PONG 表示 redis 服务运行正常）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看密码")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" config get requirepass\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置临时密码（临时密码在服务重启后失效，所以一般生产环境不使用这种方式）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" config "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" requirepass "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("password"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消临时密码")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" config "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" requirepass "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过 select 命令来切换数据库。数据库初始是 16 个（0~15），可通过配置文件修改")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认是第 0 个数据库")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看数据库中 key 的数量")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" dbsize\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 往数据库设置 string 类型值")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" name zhangsan\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看刚才添加的 key 的值")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" get name\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有 key 的值")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" keys *\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除添加的 name key 键")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" del name\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清空当前数据库的数据")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" flushdb\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清空全部数据库的数据")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" flushall\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# redis 自带的客户端退出当前 redis 连接：exit 或 quit")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("小贴士")]),s._v(" "),e("p",[s._v("如果通过命令行往 redis 写数据时，出现报错："),e("code",[s._v("(error) READONLY You can't write against a read only replica.")])]),s._v(" "),e("p",[s._v("报错原因：当前 redis 服务是只读的，没有写权限，估计该服务是被当作从数据库使用了。")]),s._v(" "),e("p",[s._v("解决方案：")]),s._v(" "),e("ul",[e("li",[s._v("方法一：在 "),e("code",[s._v("redis-cli")]),s._v(" 命令行客户端中，输入 "),e("code",[s._v("slaveof no one")]),s._v(" 命令，让当前 redis 服务停止接收其他 redis 服务的同步，同时把自己升格为主数据库。")]),s._v(" "),e("li",[s._v("方法二：打开 redis 服务对应的配置文件，把其中的属性 "),e("code",[s._v("slave-read-only")]),s._v(" 的值修改为 "),e("code",[s._v("no")]),s._v("，即给从服务器写入的权限，这样就可写了。")])])]),s._v(" "),e("h2",{attrs:{id:"key-的操作命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#key-的操作命令"}},[s._v("#")]),s._v(" Key 的操作命令")]),s._v(" "),e("p",[s._v("key 值命令可以说是一些类型的公共命令，比如有设置定时时间，排序，数据迁移等等。")]),s._v(" "),e("h3",{attrs:{id:"查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查询"}},[s._v("#")]),s._v(" 查询")]),s._v(" "),e("h4",{attrs:{id:"keys"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#keys"}},[s._v("#")]),s._v(" keys")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("keys pattern")])]),s._v(" "),e("li",[s._v("作用：查找所有符合 pattern 的 key，支持通配符（"),e("code",[s._v("*")]),s._v(" 表示零到多个字符，"),e("code",[s._v("?")]),s._v(" 表示单个字符）")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 例如：")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# h?llo       匹配 hello, hallo 和 hxllo")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# h*llo       匹配 hllo 和 heeeello")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# h[ae]llo    匹配 hello 和 hallo, 不匹配如 hillo")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# h[^e]llo    匹配 hallo, hbllo, ... 不匹配如 hello")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# h[a-e]llo   匹配 hallo 和 hbllo, [a-e]说明是a~e这个范围，如 hcllo 也可以匹配")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例：若想匹配转义字符，就需要使用 \\ 转义你想匹配的特殊字符，如下：")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" na"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("me zhangsan\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" keys na"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("me\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("h4",{attrs:{id:"exists"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exists"}},[s._v("#")]),s._v(" exists")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("exists key [key ...]")])]),s._v(" "),e("li",[s._v("作用：判断 key 是否存在")]),s._v(" "),e("li",[s._v("返回值：整数，存在 key 返回 1，其他返回 0。如果查询多个 key，返回存在的 key 的数量")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例1：查看是否存在名为 name 的 key")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" exists name\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例2：重复写两次 name，如果 name 存在则返回2")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" exists name name\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例3：查看当前是否存在 name 和 address 这两个 key")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" exists name address\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h4",{attrs:{id:"type"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#type"}},[s._v("#")]),s._v(" type")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("type key")])]),s._v(" "),e("li",[s._v("作用：查看 key 所存储值的数据类型返回值")]),s._v(" "),e("li",[s._v("返回值：字符串表示的数据类型，可返回的类型是：\n"),e("ul",[e("li",[s._v("none（key 不存在）")]),s._v(" "),e("li",[s._v("string（字符串）")]),s._v(" "),e("li",[s._v("list（列表）")]),s._v(" "),e("li",[s._v("set（集合）")]),s._v(" "),e("li",[s._v("zset（有序集）")]),s._v(" "),e("li",[s._v("hash（哈希表）")])])])]),s._v(" "),e("h4",{attrs:{id:"randomkey"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#randomkey"}},[s._v("#")]),s._v(" randomkey")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("randomkey")])]),s._v(" "),e("li",[s._v("作用：随机返回一个 key 名称")])]),s._v(" "),e("h3",{attrs:{id:"删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除"}},[s._v("#")]),s._v(" 删除")]),s._v(" "),e("h4",{attrs:{id:"del"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#del"}},[s._v("#")]),s._v(" del")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("del key [key ...]")])]),s._v(" "),e("li",[s._v("作用：删除指定的 key，不存在的 key 忽略")]),s._v(" "),e("li",[s._v("返回值：数字，删除的 key 的数量")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" del name age address\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"unlink"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#unlink"}},[s._v("#")]),s._v(" unlink")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("unlink key [key ...]")])]),s._v(" "),e("li",[s._v("作用：其实这个和删除 del 命令很像，也是存在 key 删除，不存在则忽略；删除几个键值，则返回删除的个数")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" unlink name1 name2 name3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("code",[s._v("del")]),s._v(" 和 "),e("code",[s._v("unlink")]),s._v(" 区别：")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("del")]),s._v("：它是线程阻塞的，当执行 del 命令时，del 在没执行完时，其它后续的命令是无法进入的（要安全就使用 del）")]),s._v(" "),e("li",[e("code",[s._v("unlink")]),s._v("：它不是线程阻塞的，当执行 unlink 命令时，它会将要删除的键移交给另外线程，然后将当前要删除的键与数据库空间断开连接。后续则由其它线程异步删除这些键（要效率快就使用 unlink）。")])]),s._v(" "),e("h3",{attrs:{id:"改动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#改动"}},[s._v("#")]),s._v(" 改动")]),s._v(" "),e("h4",{attrs:{id:"rename"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rename"}},[s._v("#")]),s._v(" rename")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("rename key newkey")])]),s._v(" "),e("li",[s._v("作用：修改 key 名称，存在则覆盖，不存在则抛错；如果修改 key1 为 key2，key2 存在，则 key1 覆盖 key2 的值")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rename")]),s._v(" name name1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"renamenx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#renamenx"}},[s._v("#")]),s._v(" renamenx")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("renamenx key newkey")])]),s._v(" "),e("li",[s._v("作用：修改 key 名称，存在则覆盖，不存在则抛错；如果修改 key1 为 key2，key2 存在，则 key1 修改不成功")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" renamenx name name1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"copy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#copy"}},[s._v("#")]),s._v(" copy")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("copy source destination [db destination-db] [replace]")])]),s._v(" "),e("li",[s._v("说明：拷贝当前某一个 key 的值，存放到新的 key 中（可以跨库拷贝）")]),s._v(" "),e("li",[s._v("返回值：成功返回数字 1，失败返回数字 0")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("copy name1 name2          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把 name1 的值 拷贝到 name2 里")]),s._v("\ncopy name1 name2 db "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("     "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把 name1 的值拷贝到第 6 号数据库 name2 里")]),s._v("\ncopy name1 name2 replace  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把 name1 的值拷贝到 name2 里，存在则强行覆盖")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"move"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#move"}},[s._v("#")]),s._v(" move")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("move key db")])]),s._v(" "),e("li",[s._v("作用：把指定的键值移动到选定的数据库 db 当中。如果 key 在目标数据库中已存在，或者 key 在源数据库中不存，则 key 不会被移动")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把 name 移动到三号数据库里")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" move name "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"touch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#touch"}},[s._v("#")]),s._v(" touch")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("touch key [key ...]")])]),s._v(" "),e("li",[s._v("作用：修改指定 key 的最后访问时间。忽略不存在的 key")]),s._v(" "),e("li",[s._v("返回值：操作的 key 的数量")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回被设置成功的键个数")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" name1 name2 name3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"过期时间"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#过期时间"}},[s._v("#")]),s._v(" 过期时间")]),s._v(" "),e("h4",{attrs:{id:"expire"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#expire"}},[s._v("#")]),s._v(" expire")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("expire key seconds")])]),s._v(" "),e("li",[s._v("作用：设置 key 的过期时间，超过时间 key 就自动删除（单位是秒）")]),s._v(" "),e("li",[s._v("返回值：设置成功返回数字 1，其他情况是 0")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把 name 键设置 300 秒过期")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" expire name "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"pexpire"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pexpire"}},[s._v("#")]),s._v(" pexpire")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("pexpire key milliseconds")])]),s._v(" "),e("li",[s._v("作用：设置 key 的过期时间，超过时间 key 就自动删除（单位是毫秒）")]),s._v(" "),e("li",[s._v("返回值：设置成功返回数字 1，其他情况是 0")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把 name 键设置 3000 毫秒过期（3 秒）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" pexpire name "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"expireat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#expireat"}},[s._v("#")]),s._v(" expireat")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("expireat key timestamp")])]),s._v(" "),e("li",[s._v("作用：设置 key 的过期时间，超过时间 key 就自动删除（格式是 unix 时间戳并精确到秒）")]),s._v(" "),e("li",[s._v("返回值：设置成功返回数字 1，其他情况是 0")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把 name 键设置为 2022-10-01 00:00:00 到期（精确到秒）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" expireat name "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1664553600")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"pexpireat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pexpireat"}},[s._v("#")]),s._v(" pexpireat")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("pexpireat key milliseconds-timestamp")])]),s._v(" "),e("li",[s._v("作用：设置 key 的过期时间，超过时间 key 就自动删除（格式是 unix 时间戳并精确到毫秒）")]),s._v(" "),e("li",[s._v("返回值：设置成功返回数字 1，其他情况是 0")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把 name 键设置为 2022-10-01 00:00:00 到期（精确到毫秒）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" pexpireat name "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1664553600000")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("注意：")]),s._v(" "),e("ul",[e("li",[s._v("使用 del 可以删除定时的 key")]),s._v(" "),e("li",[s._v("使用 set 可以覆盖定时的 key")]),s._v(" "),e("li",[s._v("使用 getset 可以返回并设置值，并会删除定时")]),s._v(" "),e("li",[s._v("如使用 rename 修改 key 名称，那么 key 定时器会被携带不会被删除")])]),s._v(" "),e("h4",{attrs:{id:"persist"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#persist"}},[s._v("#")]),s._v(" persist")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("persist key")])]),s._v(" "),e("li",[s._v("作用：清除当前有定时时间的键值，设置永不过期（和普通键值一样了），关闭后并不会删除已有的键值")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭存在定时的键值")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" persist name\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"ttl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ttl"}},[s._v("#")]),s._v(" ttl")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("ttl key")])]),s._v(" "),e("li",[s._v("作用：查看当前有定时 key 的剩余时间，返回秒")]),s._v(" "),e("li",[s._v("返回值：\n"),e("ul",[e("li",[s._v("-1：没有设置 key 的生存时间，key 永不过期")]),s._v(" "),e("li",[s._v("-2：key 不存在")]),s._v(" "),e("li",[s._v("数字：key 的剩余时间，秒为单位")])])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 name 的剩余时间（秒）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" ttl name\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("小贴士")]),s._v(" "),e("p",[s._v("ttl：time to live")])]),s._v(" "),e("h4",{attrs:{id:"pttl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pttl"}},[s._v("#")]),s._v(" pttl")]),s._v(" "),e("ul",[e("li",[s._v("语法："),e("code",[s._v("pttl key")])]),s._v(" "),e("li",[s._v("作用：查看当前有定时 key 的剩余时间，返回毫秒")]),s._v(" "),e("li",[s._v("返回值：\n"),e("ul",[e("li",[s._v("-1：没有设置 key 的生存时间，key 永不过期")]),s._v(" "),e("li",[s._v("-2：key 不存在")]),s._v(" "),e("li",[s._v("数字：key 的剩余时间，秒为单位")])])])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 name 的剩余时间（毫秒）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" pttl name\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"字符串-string-操作命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符串-string-操作命令"}},[s._v("#")]),s._v(" 字符串 String 操作命令")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置指定的 key 值")]),s._v("\nSET key value\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取指定 key 的值")]),s._v("\nGET key\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置指定 key 的值，并将 key 的过期时间设为 seconds 秒")]),s._v("\nSETEX key seconds value\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只有在 key 不存在时设置 key 的值")]),s._v("\nSETNX key value\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h2",{attrs:{id:"哈希表-hash-操作命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#哈希表-hash-操作命令"}},[s._v("#")]),s._v(" 哈希表 Hash 操作命令")]),s._v(" "),e("p",[s._v("Redis hash 是一个 string 类型的 field 和 value 的映射表，hash 特别适用于存储对象，常用命令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将哈希表 key 中的字段 field 的值设为 value")]),s._v("\nHSET key field value\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取存储在哈希表中指定字段的值")]),s._v("\nHGET key field\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除存储在哈希表中的指定字段")]),s._v("\nHDEL key field\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取哈希表中所有字段")]),s._v("\nHKEYS key\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取哈希表中所有值")]),s._v("\nHVALS key \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取在哈希表中指定 key 的所有字段和值")]),s._v("\nHGETALL key\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br")])]),e("h2",{attrs:{id:"集合-list-操作命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集合-list-操作命令"}},[s._v("#")]),s._v(" 集合 List 操作命令")]),s._v(" "),e("p",[s._v("Redis 列表是简单的字符串列表，按照插入顺序排序，常用命令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将一个或多个值插入到列表头部")]),s._v("\nLPUSH key value1 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取列表指定范围内的元素")]),s._v("\nLRANGE key start stop \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除并获取列表最后一个元素")]),s._v("\nRPOP key\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取列表长度")]),s._v("\nLLEN key\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移出并获取列表的最后一个元素，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止")]),s._v("\nBRPOP key1 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("timeout")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("h2",{attrs:{id:"无序集合-set-操作命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#无序集合-set-操作命令"}},[s._v("#")]),s._v(" 无序集合 Set 操作命令")]),s._v(" "),e("p",[s._v("Redis set 是 string 类型的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据，常用命令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 向集合添加一个或多个成员")]),s._v("\nSADD key member1 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("member2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回集合中的所有成员")]),s._v("\nSMEMBERS key \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取集合中的成员数")]),s._v("\nSCARD key\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回给定所有集合的交集")]),s._v("\nSINTER key1 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回所有给定集合的并集")]),s._v("\nSUNION key1 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回给定所有集合的差集")]),s._v("\nSDIFF key1 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除集合中一个或多个成员")]),s._v("\nSREM key member1 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("member2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br")])]),e("h2",{attrs:{id:"有序集合-sortedset-操作命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#有序集合-sortedset-操作命令"}},[s._v("#")]),s._v(" 有序集合 SortedSet 操作命令")]),s._v(" "),e("p",[s._v("Redis sorted set 有序集合是 string 类型元素的集合，且不允许重复的成员。每个元素都会关联一个 double 类型的分数（score）。redis 正是通过分数来为集合中的成员进行从小到大排序。有序集合的成员是唯一的，但分数却可以重复。")]),s._v(" "),e("p",[s._v("常用命令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 向有序集合添加一个或多个成员，或者更新已存在成员的分数")]),s._v("\nZADD key score1 member1 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("score2 member2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过索引区间返回有序集合中指定区间内的成员")]),s._v("\nZRANGE key start stop "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("WITHSCORES"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 有序集合中对指定成员的分数加上增量 increment")]),s._v("\nZINCRBY key increment member\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除有序集合中的一个或多个成员")]),s._v("\nZREM key member "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("member"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h2",{attrs:{id:"参考文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文档"}},[s._v("#")]),s._v(" 参考文档")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://redis.io/commands/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),e("OutboundLink")],1)])]),s._v(" "),e("p",[s._v("（完）")])])}),[],!1,null,null,null);a.default=n.exports}}]);