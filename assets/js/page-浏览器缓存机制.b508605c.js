(window.webpackJsonp=window.webpackJsonp||[]).push([[286],{555:function(t,s){t.exports="data:image/png;base64,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"},556:function(t,s,a){t.exports=a.p+"assets/img/cache-control-attributes.845bf730.svg"},557:function(t,s){t.exports="data:image/png;base64,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"},883:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"浏览器缓存机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#浏览器缓存机制"}},[t._v("#")]),t._v(" 浏览器缓存机制")]),t._v(" "),n("p",[t._v("缓存可以减少网络 IO 消耗，提高访问速度。浏览器缓存机制有四个方面，它们按照获取资源时请求的优先级依次排列如下：")]),t._v(" "),n("ul",[n("li",[t._v("Memory Cache")]),t._v(" "),n("li",[t._v("Service Worker Cache")]),t._v(" "),n("li",[t._v("HTTP Cache")]),t._v(" "),n("li",[t._v("Push Cache")])]),t._v(" "),n("p",[t._v("在浏览器的 Network 面板，Size 那一栏写着形如 "),n("code",[t._v("(from disk cache)")]),t._v(" 这样描述的，就是代表该资源是通过缓存获取到的。")]),t._v(" "),n("h2",{attrs:{id:"http-缓存机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http-缓存机制"}},[t._v("#")]),t._v(" HTTP 缓存机制")]),t._v(" "),n("blockquote",[n("p",[t._v("考虑到 HTTP 缓存是最主要、最具有代表性的缓存策略，故优先针对 HTTP 缓存机制进行剖析。")])]),t._v(" "),n("p",[t._v("HTTP 缓存分为"),n("strong",[t._v("强缓存")]),t._v("和"),n("strong",[t._v("协商缓存")]),t._v("。优先级较高的是强缓存，在命中强缓存失败的情况下，才会走协商缓存。")]),t._v(" "),n("h3",{attrs:{id:"强缓存"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#强缓存"}},[t._v("#")]),t._v(" 强缓存")]),t._v(" "),n("p",[t._v("强缓存是利用 HTTP 头中的 "),n("code",[t._v("Expires")]),t._v(" 和 "),n("code",[t._v("Cache-Control")]),t._v(" 两个字段来控制的。强缓存中，当请求再次发出时，浏览器会根据其中的 "),n("code",[t._v("expires")]),t._v(" 和 "),n("code",[t._v("cache-control")]),t._v(" 判断目标资源是否"),n("strong",[t._v("命中强缓存")]),t._v("，若命中则直接从缓存中获取资源，"),n("strong",[t._v("不会再与服务端发生通信")]),t._v("。")]),t._v(" "),n("p",[t._v("命中强缓存的情况下，返回的 HTTP 状态码为 200 （如下图）。")]),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("img",{attrs:{src:a(555),alt:"命中强缓存"}}),t._v(" "),n("p",{staticStyle:{"text-align":"center",color:"#888"}},[t._v("（命中强缓存）")])]),t._v(" "),n("p",[t._v("在 Http1.0 的规范中，在请求头里用 "),n("code",[t._v("expires")]),t._v(" 表示资源的过期时间，值是一个"),n("strong",[t._v("绝对的时间戳")]),t._v("，是由服务器端返回的。在浏览器第一次请求资源时，服务器端会在 Response Headers 中将过期时间写入 "),n("code",[t._v("expires")]),t._v(" 字段。接下来如果我们试图再次向服务器请求资源，浏览器就会先对比本地时间和 "),n("code",[t._v("expires")]),t._v(" 的时间戳，如果本地时间小于 "),n("code",[t._v("expires")]),t._v(" 设定的过期时间，那么就直接去缓存中取这个资源。")]),t._v(" "),n("p",[t._v("由于时间戳是服务器来定义的，而本地时间的取值却来自客户端，因此客户端和服务器时间不同，会导致缓存命中误差。")]),t._v(" "),n("p",[t._v("为了解决这个问题，在 HTTP1.1 的规范中，提出了 "),n("code",[t._v("cache-control")]),t._v(" 字段，这个字段的 "),n("code",[t._v("max-age")]),t._v(" 属性允许我们通过设定"),n("strong",[t._v("相对的时间长度")]),t._v("来达到同样的目的：客户端会记录请求到资源的时间点，以此作为相对时间的起点，从而确保参与计算的两个时间节点（起始时间和当前时间）都来源于客户端，由此便能够实现更加精准的判断。")]),t._v(" "),n("p",[t._v("当 "),n("code",[t._v("Cache-Control")]),t._v(" 与 "),n("code",[t._v("Expires")]),t._v(" 同时出现时，"),n("code",[t._v("Cache-Control")]),t._v(" 的优先级更高。")]),t._v(" "),n("p",[n("code",[t._v("cache-control")]),t._v(" 中常见的几个响应属性值：")]),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("img",{attrs:{src:a(556),alt:"cache-control 属性值"}}),t._v(" "),n("p",{staticStyle:{"text-align":"center",color:"#888"}},[t._v("（cache-control 属性值）")])]),t._v(" "),n("h3",{attrs:{id:"协商缓存"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存"}},[t._v("#")]),t._v(" 协商缓存")]),t._v(" "),n("p",[t._v("强缓存是由本地浏览器在确定是否使用缓存，当浏览器没有命中强缓存时就会使用协商缓存：浏览器向服务器发送请求，验证协商缓存是否命中，如果缓存命中则返回 304 状态码（表示缓存资源未改动），否则返回新的资源数据。")]),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("img",{attrs:{src:a(557),alt:"命中协商缓存"}}),t._v(" "),n("p",{staticStyle:{"text-align":"center",color:"#888"}},[t._v("（命中协商缓存）")])]),t._v(" "),n("p",[t._v("如果启用了协商缓存，它会在首次请求时随着 Response Headers 返回：")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Last-Modified: Wed, 31 May 2023 08:21:46 GMT\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("随后我们每次请求时，会带上一个叫 "),n("code",[t._v("If-Modified-Since")]),t._v(" 的时间戳字段，它的值正是上一次 Response 返回给它的 "),n("code",[t._v("Last-Modified")]),t._v(" 值：")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("If-Modified-Since: Wed, 31 May 2023 08:21:46 GMT\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("服务器接收到这个时间戳后，会比对该时间戳和资源在服务器上的最后修改时间是否一致，从而判断资源是否发生了变化。如果发生了变化，就会返回一个完整的响应内容，并在 Response Headers 中添加新的 "),n("code",[t._v("Last-Modified")]),t._v(" 值；否则，返回如上图的 304 响应，Response Headers 不会再添加 "),n("code",[t._v("Last-Modified")]),t._v(" 字段。")]),t._v(" "),n("p",[t._v("单纯使用 "),n("code",[t._v("Last-Modified")]),t._v(" 存在一些弊端，比如：")]),t._v(" "),n("ul",[n("li",[t._v("我们编辑了文件，但文件的内容没有改变。服务端并不清楚我们是否真正改变了文件，它仍然通过最后编辑时间进行判断。因此这个资源在再次被请求时，会被当做新资源，进而引发一次完整的响应 —— 不该重新请求的时候，也会重新请求。")]),t._v(" "),n("li",[t._v("当我们修改文件的速度过快时（比如花了 "),n("code",[t._v("100ms")]),t._v(" 完成了改动），由于 "),n("code",[t._v("If-Modified-Since")]),t._v(" 只能检查到以秒为最小计量单位的时间差，所以它是感知不到这个改动的 —— 该重新请求的时候，反而没有重新请求了。")])]),t._v(" "),n("p",[t._v("为了让服务器正确感知文件的变化，就引入了 "),n("code",[t._v("Etag")]),t._v("。它是由服务器为每个资源生成的"),n("strong",[t._v("唯一的标识字符串")]),t._v("，这个标识字符串是基于文件内容编码的，只要文件内容不同，它们对应的 "),n("code",[t._v("Etag")]),t._v(" 就是不同的，反之亦然。")]),t._v(" "),n("p",[n("code",[t._v("Etag")]),t._v(" 和 "),n("code",[t._v("Last-Modified")]),t._v(" 类似，当首次请求时，我们会在 Response Headers 里获取到一个最初的标识符字符串：")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('Etag: W/"d989f816c318997ceef047a94f447c2a"\n')])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("那么下一次请求时，请求头里就会带上一个值相同的、名为 "),n("code",[t._v("if-None-Match")]),t._v(" 的字符串供服务端比对了：")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('If-None-Match: W/"d989f816c318997ceef047a94f447c2a"\n')])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[n("code",[t._v("Etag")]),t._v(" 的生成过程需要服务器额外付出开销，会影响服务端的性能，这是它的弊端。因此启用 "),n("code",[t._v("Etag")]),t._v(" 并不能替代 "),n("code",[t._v("Last-Modified")]),t._v("，它只能作为 "),n("code",[t._v("Last-Modified")]),t._v(" 的补充和强化存在。"),n("strong",[n("code",[t._v("Etag")]),t._v(" 在感知文件变化上比 "),n("code",[t._v("Last-Modified")]),t._v(" 更加准确，优先级也更高。当 "),n("code",[t._v("Etag")]),t._v(" 和 "),n("code",[t._v("Last-Modified")]),t._v(" 同时存在时，以 "),n("code",[t._v("Etag")]),t._v(" 为准")]),t._v("。")]),t._v(" "),n("h3",{attrs:{id:"如何配置缓存策略"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何配置缓存策略"}},[t._v("#")]),t._v(" 如何配置缓存策略")]),t._v(" "),n("h2",{attrs:{id:"memorycache"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#memorycache"}},[t._v("#")]),t._v(" MemoryCache")]),t._v(" "),n("p",[t._v("指存在内存中的缓存。从优先级上来说，它是浏览器最先尝试去命中的一种缓存。从效率上来说，它是响应速度最快的一种缓存。")]),t._v(" "),n("p",[t._v("当进程结束后，也就是 tab 关闭以后，内存里的数据也将不复存在。")]),t._v(" "),n("p",[t._v("在日常开发中，Base64 格式的图片，一般可以被塞进 memory cache，这可以视作浏览器为节省渲染开销的自动行为。此外，体积不大的 JS、CSS 文件，也有较大几率被写入内存。但因为内存资源是有限的，对于较大的 JS、CSS 文件就没有这个待遇了，它们往往被直接甩进磁盘。")]),t._v(" "),n("h2",{attrs:{id:"service-worker-cache"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#service-worker-cache"}},[t._v("#")]),t._v(" Service Worker Cache")]),t._v(" "),n("p",[t._v("Service Worker 是一种独立于主线程之外的 Javascript 线程。它脱离于浏览器窗体，因此无法直接访问 DOM。它可以帮我们实现离线缓存、消息推送和网络代理等功能。我们借助 Service worker 实现的离线缓存就称为 Service Worker Cache。")]),t._v(" "),n("p",[t._v("Service Worker 的生命周期包括 "),n("code",[t._v("install")]),t._v("、"),n("code",[t._v("active")]),t._v("、"),n("code",[t._v("working")]),t._v(" 三个阶段。一旦 Service Worker 被 "),n("code",[t._v("install")]),t._v("，它将始终存在，只会在 "),n("code",[t._v("active")]),t._v(" 与 "),n("code",[t._v("working")]),t._v(" 之间切换，除非我们主动终止它。这是它可以用来实现离线存储的重要先决条件。")]),t._v(" "),n("p",[t._v("要想使用 Service Worker 实现离线缓存，首先在入口文件中插入这样一段 JS 代码，用以判断和引入 Service Worker：")]),t._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("serviceWorker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/test.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'注册成功'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"注册失败"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("p",[t._v("在 "),n("code",[t._v("test.js")]),t._v(" 中，我们进行缓存的处理。假设我们需要缓存的文件分别是 "),n("code",[t._v("test.html")]),t._v("，"),n("code",[t._v("test.css")]),t._v(" 和 "),n("code",[t._v("test.js")]),t._v("：")]),t._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Service Worker 会监听 install 事件，我们在其对应的回调里可以实现初始化的逻辑  ")]),t._v("\nself"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'install'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("waitUntil")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 考虑到缓存也需要更新，open 内传入的参数为缓存的版本号")]),t._v("\n    caches"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test-v1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("cache")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" cache"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此处传入指定的需缓存的文件名")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/test.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/test.css'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/test.js'")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Service Worker 会监听所有的网络请求，网络请求的产生触发的是 fetch 事件，我们可以在其对应的监听函数中实现对请求的拦截，进而判断是否有对应到该请求的缓存，实现从 Service Worker 中取到缓存的目的")]),t._v("\nself"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fetch'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("respondWith")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 尝试匹配该请求对应的缓存值")]),t._v("\n    caches"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果匹配到了，调用 Server Worker 缓存")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果没匹配到，向服务端发起这个资源请求")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("response "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求成功的话，将请求缓存起来。")]),t._v("\n        caches"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test-v1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("cache")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          cache"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br")])]),n("p",[t._v("需要注意：Server Worker 必须以 HTTPS 协议为前提。因为 Server Worker 中涉及到请求拦截，所以必须使用 HTTPS 协议来保障安全。如果是本地调试的话，localhost 是可以的。")]),t._v(" "),n("h2",{attrs:{id:"push-cache"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#push-cache"}},[t._v("#")]),t._v(" Push Cache")]),t._v(" "),n("p",[t._v("Push Cache 是指 HTTP2 在 server push 阶段存在的缓存。这块的知识比较新，应用也还处于萌芽阶段。")]),t._v(" "),n("p",[t._v("关键特性：")]),t._v(" "),n("ul",[n("li",[t._v("Push Cache 是缓存的最后一道防线。浏览器只有在 Memory Cache、HTTP Cache 和 Service Worker Cache 均未命中的情况下才会去询问 Push Cache。")]),t._v(" "),n("li",[t._v("Push Cache 是一种存在于会话阶段的缓存，当 session 终止时，缓存也随之释放。")]),t._v(" "),n("li",[t._v("不同的页面只要共享了同一个 HTTP2 连接，那么它们就可以共享同一个 Push Cache。")])]),t._v(" "),n("p",[t._v("（完）")])])}),[],!1,null,null,null);s.default=e.exports}}]);